{"updatedAt":"2025-06-07T09:43:32.000Z","createdAt":"2025-04-22T00:38:42.724Z","id":"vLq8HI80sIMwS18Y","name":"MCP SERVER TRIGGER NODE","active":true,"isArchived":false,"nodes":[{"parameters":{"toolDescription":"This tool processes a query input from the AI agent and process and then  returns HR-related information, including current staff, new hires, seating, employees on leave, tenure details, and maternity cases.\n","url":"https://script.google.com/macros/s/AKfycbzvmWUkh15l0K_GKb2C9-y6yKmloYRsMZX6CIIAHy7HVkzZJ5HxyOyD5bKW27EAbUfgxQ/exec","sendQuery":true,"parametersQuery":{"values":[{"name":"sheet","valueProvider":"fieldValue","value":"{query}"}]},"sendHeaders":true,"parametersHeaders":{"values":[{"name":"accept","valueProvider":"fieldValue","value":"text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7"},{"name":"accept-language","valueProvider":"fieldValue","value":"en-US,en;q=0.9,vi-VN;q=0.8,vi;q=0.7,fr-FR;q=0.6,fr;q=0.5"},{"name":"dnt","valueProvider":"fieldValue","value":"1"},{"name":"priority","valueProvider":"fieldValue","value":"u=0, i"},{"name":"sec-ch-ua","valueProvider":"fieldValue","value":"\"Chromium\";v=\"136\", \"Google Chrome\";v=\"136\", \"Not.A/Brand\";v=\"99\""},{"name":"sec-ch-ua-arch","valueProvider":"fieldValue","value":"\"x86\""},{"name":"sec-ch-ua-bitness","valueProvider":"fieldValue","value":"\"64\""},{"name":"sec-ch-ua-form-factors","valueProvider":"fieldValue","value":"\"Desktop\""},{"name":"sec-ch-ua-full-version","valueProvider":"fieldValue","value":"\"136.0.7103.48\""},{"name":"sec-ch-ua-full-version-list","valueProvider":"fieldValue","value":"\"Chromium\";v=\"136.0.7103.48\", \"Google Chrome\";v=\"136.0.7103.48\", \"Not.A/Brand\";v=\"99.0.0.0\""},{"name":"sec-ch-ua-mobile","valueProvider":"fieldValue","value":"?0"},{"name":"sec-ch-ua-model","valueProvider":"fieldValue","value":"\"\""},{"name":"sec-ch-ua-platform","valueProvider":"fieldValue","value":"\"Linux\""},{"name":"sec-ch-ua-platform-version","valueProvider":"fieldValue","value":"\"6.8.0\""},{"name":"sec-ch-ua-wow64","valueProvider":"fieldValue","value":"?0"},{"name":"sec-fetch-dest","valueProvider":"fieldValue","value":"document"},{"name":"sec-fetch-mode","valueProvider":"fieldValue","value":"navigate"},{"name":"sec-fetch-site","valueProvider":"fieldValue","value":"none"},{"name":"sec-fetch-user","valueProvider":"fieldValue","value":"?1"},{"name":"upgrade-insecure-requests","valueProvider":"fieldValue","value":"1"},{"name":"user-agent","valueProvider":"fieldValue","value":"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36"},{"name":"x-browser-channel","valueProvider":"fieldValue","value":"beta"},{"name":"x-browser-copyright","valueProvider":"fieldValue","value":"Copyright 2025 Google LLC. All rights reserved."},{"name":"x-browser-validation","valueProvider":"fieldValue","value":"ctYldj7UqvsGWB62N+qJrQZxvXA="},{"name":"x-browser-year","valueProvider":"fieldValue","value":"2025"},{"name":"x-client-data","valueProvider":"fieldValue","value":"CKG1yQEIkbbJAQijtskBCKqdygEIlYzLAQiUocsBCNb0zQEI/qXOAQjEzc4BCJbOzgEIo9DOAQjH0c4BCILTzgEIstTOAQi21c4BCJrWzgEI2NbOAQjU184BCP/ZzgEI+eTOAQiM5s4BCNvmzgEI6efOAQiD6M4BCJLozgEIk+jOAQjG6M4BCJzpzgEIpenOAQjU6c4BCNrpzgEYttDOARjf0c4BGPbezgEY7d/OARiq6s4BGKzqzgEYverOAQ=="},{"name":"cookie","valueProvider":"fieldValue","value":"SID=g.a000wAiXIifWGMG11ooMEGL5f7n7JdHzpDlo_FYnQqrk7DPbfN0hv3FNXXaa29QahARjCrHvywACgYKAYcSARESFQHGX2MiB3qFE1Kw8zxwvga42JCS_RoVAUF8yKpzbYunt7xi4HoYlRXebebY0076;__Secure-1PSID=g.a000wAiXIifWGMG11ooMEGL5f7n7JdHzpDlo_FYnQqrk7DPbfN0h7QIdEHpm5g7fJ-Mz5KKjbwACgYKAScSARESFQHGX2Mi1clA1j-EtpfCVdPvfmW2eRoVAUF8yKp7mWUjyMP3gkOM6Xbipzhj0076;__Secure-3PSID=g.a000wAiXIifWGMG11ooMEGL5f7n7JdHzpDlo_FYnQqrk7DPbfN0hqTJrtrOYUL_3ILHlCVjzzAACgYKASkSARESFQHGX2MiB8A4u5Vf7ZGP34H64SyfqhoVAUF8yKqQzuVRUsS_vo9wNt4O2W8f0076;HSID=A9a7ofsCEbgRkIo-a;SSID=A_SpYWMzN5Aphkb9X;APISID=lgO-i_KUJJ39FOG6/A4DaXABZVs_SMq8v3;SAPISID=O0Kd00YCKr_FNvYx/ABwncvKpMamOJbDSJ;__Secure-1PAPISID=O0Kd00YCKr_FNvYx/ABwncvKpMamOJbDSJ;__Secure-3PAPISID=O0Kd00YCKr_FNvYx/ABwncvKpMamOJbDSJ;OSID=g.a000wAiXIoDw3dofkjAv3JIrvyJGa-Pjc-iRQVAc4wqrkrlSpp-JR432U-FMCKBPapYAIwB-BwACgYKAU8SARESFQHGX2MibGSaaWHMCYR2DV7IqLyu3BoVAUF8yKpxbCzuBbG9dyYI-Bq7Un3W0076;__Secure-OSID=g.a000wAiXIoDw3dofkjAv3JIrvyJGa-Pjc-iRQVAc4wqrkrlSpp-JmsRpbC5Gn-9R_uNYbkYeOAACgYKAdsSARESFQHGX2Mi3qS3VoZs6WDknzquFBa8ThoVAUF8yKoYneeXdEH3BrH_POy0HgG_0076;OTZ=8050326_28_28__28_;NID=523=lgrQ8cvTjCLMOJ-PMd2kynVxvK-2QJOi8wW4Fqn_an4ZwxVltJSOjFbzZONt_eF9fr7g4rHvF7nXwmq_vp0S7UhMRTKSsfsIJ9rRQoTCJVQiDAeHYpqoqGyCIYXzSv5JsyxEdtyIMbXT4hLFJwY8hA73IM77epbgKzJWnSv1n9Ydyu4jE_1CBao7iET3VKm34cIPjGWCx9528at_2gtAWORNF-gVq7vWyWf8Bk4;_ga=GA1.3.2123990946.1745323536;_gid=GA1.3.2125380534.1745723612;__Secure-1PSIDTS=sidts-CjIBjplskNuud68yQBpPG_HApMyQeNsw8R2iFzVswG5zPapy6S1XXijJBNOP1jIxkh49uRAA;__Secure-3PSIDTS=sidts-CjIBjplskNuud68yQBpPG_HApMyQeNsw8R2iFzVswG5zPapy6S1XXijJBNOP1jIxkh49uRAA;_ga_60Q1X42Z2X=GS1.1.1745723611.2.1.1745723667.0.0.0;_ga_S6TL92G5N1=GS1.1.1745723611.2.1.1745723667.0.0.0;SIDCC=AKEyXzUK8OFNMXo1J5kDsRmF9_pwSE2Y-9PKB71AXqGBvsjwz878hSDfwYOD-hOzSxfH_MYAocM;__Secure-1PSIDCC=AKEyXzU6jsjGEpzIFNbhrzeLjLwTnCqV6V-cNTAFp8f65X3S3aSjcTMI4bqz5539NQzFHEdong;__Secure-3PSIDCC=AKEyXzVENldu4WnrzVhVaL9PLDKeb9cdqcOkNOvkCm2h_7Kox-Hc09Cff0MgqaeK9kk28i7kFQ;"}]}},"type":"@n8n/n8n-nodes-langchain.toolHttpRequest","typeVersion":1.1,"position":[1800,-520],"id":"eb4d3dc2-c60d-4ef7-a29c-eb83c31b15b0","name":"EmployeeSeatNode"},{"parameters":{"path":"testHR"},"type":"@n8n/n8n-nodes-langchain.mcpTrigger","typeVersion":1,"position":[960,-880],"id":"dfb9e13f-622a-4d05-bcf1-c3e9d41040f6","name":"MCP Server Brave API search","webhookId":"361a7799-ad78-462a-a581-31d01c9eeba0"},{"parameters":{"path":"c6ebdd49-ef66-4e60-81b7-7468962d31c0"},"type":"@n8n/n8n-nodes-langchain.mcpTrigger","typeVersion":1,"position":[1640,-760],"id":"5f1a7334-16de-42a7-a461-0ebb3907298e","name":"MCP Server Trigger","webhookId":"c6ebdd49-ef66-4e60-81b7-7468962d31c0","disabled":true},{"parameters":{"descriptionType":"manual","toolDescription":"Use this tool to retrieve a short, relevant excerpt (approximately 3000 characters) from a master document of past hiring campaigns. This tool's output is automatically summarized/trimmed to provide just enough context for emulating writing style, tone, and structure without overloading the context window.","authentication":"serviceAccount","operation":"get","documentURL":"=1VDg7t1WcY0IY4HMdSmRXY0zjmWZex20-B_xgaPH825k","simple":false},"type":"n8n-nodes-base.googleDocsTool","typeVersion":2,"position":[580,-800],"id":"32789913-5b4a-4be3-b60b-b989234ac21c","name":"Content Examples","credentials":{"googleApi":{"id":"TYelWpkFtY1wGMeO","name":"google-drive-hooker@gam-project-2kc-e5d-i22.iam.gserviceaccount."}}},{"parameters":{"name":"get_current_time","description":"Fetch the current time (UTC) when user asking question relate to real date time.","language":"python","pythonCode":"from datetime import datetime\nimport pytz\n\nutc_tz = pytz.utc\nutc_time = datetime.now(utc_tz)\n\n# Format as 'YYYY-MM-DDTHH:MM:SSZ'\nformatted_time = utc_time.strftime('%Y-%m-%dT%H:%M:%SZ')\nreturn formatted_time\n"},"type":"@n8n/n8n-nodes-langchain.toolCode","typeVersion":1.1,"position":[1040,-580],"id":"5528f82f-e02f-43ac-93ad-b1c9f91bca2c","name":"get_current_time"},{"parameters":{"descriptionType":"manual","toolDescription":"Use this tool to retrieve example content from past campaigns stored in Google Docs. These examples help replicate the author’s writing style, tone of voice, and formatting.\n","authentication":"serviceAccount","operation":"get","documentURL":"1YPfqTW8nelqmGtb2E6lrfYi1B8tUsTXRCsO09tN0cdE","simple":false},"type":"n8n-nodes-base.googleDocsTool","typeVersion":2,"position":[820,-600],"id":"0ac26eb0-09bd-44a3-878d-61eb1414ce9d","name":"example_fb_content","credentials":{"googleApi":{"id":"TYelWpkFtY1wGMeO","name":"google-drive-hooker@gam-project-2kc-e5d-i22.iam.gserviceaccount."}}},{"parameters":{"toolDescription":"Get query from AI AGENT send to.\nA tool that fetches current Facebook content policy examples and rules, structured by the following columns: [\"Từ ngữ mang tính giật tít, phóng đại\", \"Từ ngữ liên quan đến việc làm ảo / không minh bạch\", \"Từ ngữ mang tính phân biệt hoặc thiếu trung lập\", \"Từ ngữ “spam” bị thuật toán bóp reach\", \"Các từ nhạy cảm khác bị AI của Facebook gắn cờ\", \"Nguyên tắc viết an toàn\"]","url":"https://script.google.com/macros/s/AKfycbyqvEFQgT0WtVlWcfU3nsqU-LsA5a7dGK89YuFm37EMdhd9QXAaAIJf2X0AJwEoBzAdWw/exec?sheet=PolicySocialContent","sendHeaders":true,"parametersHeaders":{"values":[{"name":"accept","valueProvider":"fieldValue","value":"text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7"},{"name":"accept-language","valueProvider":"fieldValue","value":"en-US,en;q=0.9,vi-VN;q=0.8,vi;q=0.7,fr-FR;q=0.6,fr;q=0.5"},{"name":"dnt","valueProvider":"fieldValue","value":"1"},{"name":"priority","valueProvider":"fieldValue","value":"u=0, i"},{"name":"sec-ch-ua","valueProvider":"fieldValue","value":"\"Chromium\";v=\"136\", \"Google Chrome\";v=\"136\", \"Not.A/Brand\";v=\"99\""},{"name":"sec-ch-ua-arch","valueProvider":"fieldValue","value":"\"x86\""},{"name":"sec-ch-ua-bitness","valueProvider":"fieldValue","value":"\"64\""},{"name":"sec-ch-ua-form-factors","valueProvider":"fieldValue","value":"\"Desktop\""},{"name":"sec-ch-ua-full-version","valueProvider":"fieldValue","value":"\"136.0.7103.48\""},{"name":"sec-ch-ua-full-version-list","valueProvider":"fieldValue","value":"\"Chromium\";v=\"136.0.7103.48\", \"Google Chrome\";v=\"136.0.7103.48\", \"Not.A/Brand\";v=\"99.0.0.0\""},{"name":"sec-ch-ua-mobile","valueProvider":"fieldValue","value":"?0"},{"name":"sec-ch-ua-model","valueProvider":"fieldValue","value":"\"\""},{"name":"sec-ch-ua-platform","valueProvider":"fieldValue","value":"\"Linux\""},{"name":"sec-ch-ua-platform-version","valueProvider":"fieldValue","value":"\"6.8.0\""},{"name":"sec-ch-ua-wow64","valueProvider":"fieldValue","value":"?0"},{"name":"sec-fetch-dest","valueProvider":"fieldValue","value":"document"},{"name":"sec-fetch-mode","valueProvider":"fieldValue","value":"navigate"},{"name":"sec-fetch-site","valueProvider":"fieldValue","value":"none"},{"name":"sec-fetch-user","valueProvider":"fieldValue","value":"?1"},{"name":"upgrade-insecure-requests","valueProvider":"fieldValue","value":"1"},{"name":"user-agent","valueProvider":"fieldValue","value":"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36"},{"name":"x-browser-channel","valueProvider":"fieldValue","value":"beta"},{"name":"x-browser-copyright","valueProvider":"fieldValue","value":"Copyright 2025 Google LLC. All rights reserved."},{"name":"x-browser-validation","valueProvider":"fieldValue","value":"ctYldj7UqvsGWB62N+qJrQZxvXA="},{"name":"x-browser-year","valueProvider":"fieldValue","value":"2025"},{"name":"x-client-data","valueProvider":"fieldValue","value":"CKG1yQEIkbbJAQijtskBCKqdygEIlYzLAQiUocsBCNb0zQEI/qXOAQjEzc4BCJbOzgEIo9DOAQjH0c4BCILTzgEIstTOAQi21c4BCJrWzgEI2NbOAQjU184BCP/ZzgEI+eTOAQiM5s4BCNvmzgEI6efOAQiD6M4BCJLozgEIk+jOAQjG6M4BCJzpzgEIpenOAQjU6c4BCNrpzgEYttDOARjf0c4BGPbezgEY7d/OARiq6s4BGKzqzgEYverOAQ=="},{"name":"cookie","valueProvider":"fieldValue","value":"SID=g.a000wAiXIifWGMG11ooMEGL5f7n7JdHzpDlo_FYnQqrk7DPbfN0hv3FNXXaa29QahARjCrHvywACgYKAYcSARESFQHGX2MiB3qFE1Kw8zxwvga42JCS_RoVAUF8yKpzbYunt7xi4HoYlRXebebY0076;__Secure-1PSID=g.a000wAiXIifWGMG11ooMEGL5f7n7JdHzpDlo_FYnQqrk7DPbfN0h7QIdEHpm5g7fJ-Mz5KKjbwACgYKAScSARESFQHGX2Mi1clA1j-EtpfCVdPvfmW2eRoVAUF8yKp7mWUjyMP3gkOM6Xbipzhj0076;__Secure-3PSID=g.a000wAiXIifWGMG11ooMEGL5f7n7JdHzpDlo_FYnQqrk7DPbfN0hqTJrtrOYUL_3ILHlCVjzzAACgYKASkSARESFQHGX2MiB8A4u5Vf7ZGP34H64SyfqhoVAUF8yKqQzuVRUsS_vo9wNt4O2W8f0076;HSID=A9a7ofsCEbgRkIo-a;SSID=A_SpYWMzN5Aphkb9X;APISID=lgO-i_KUJJ39FOG6/A4DaXABZVs_SMq8v3;SAPISID=O0Kd00YCKr_FNvYx/ABwncvKpMamOJbDSJ;__Secure-1PAPISID=O0Kd00YCKr_FNvYx/ABwncvKpMamOJbDSJ;__Secure-3PAPISID=O0Kd00YCKr_FNvYx/ABwncvKpMamOJbDSJ;OSID=g.a000wAiXIoDw3dofkjAv3JIrvyJGa-Pjc-iRQVAc4wqrkrlSpp-JR432U-FMCKBPapYAIwB-BwACgYKAU8SARESFQHGX2MibGSaaWHMCYR2DV7IqLyu3BoVAUF8yKpxbCzuBbG9dyYI-Bq7Un3W0076;__Secure-OSID=g.a000wAiXIoDw3dofkjAv3JIrvyJGa-Pjc-iRQVAc4wqrkrlSpp-JmsRpbC5Gn-9R_uNYbkYeOAACgYKAdsSARESFQHGX2Mi3qS3VoZs6WDknzquFBa8ThoVAUF8yKoYneeXdEH3BrH_POy0HgG_0076;OTZ=8050326_28_28__28_;NID=523=lgrQ8cvTjCLMOJ-PMd2kynVxvK-2QJOi8wW4Fqn_an4ZwxVltJSOjFbzZONt_eF9fr7g4rHvF7nXwmq_vp0S7UhMRTKSsfsIJ9rRQoTCJVQiDAeHYpqoqGyCIYXzSv5JsyxEdtyIMbXT4hLFJwY8hA73IM77epbgKzJWnSv1n9Ydyu4jE_1CBao7iET3VKm34cIPjGWCx9528at_2gtAWORNF-gVq7vWyWf8Bk4;_ga=GA1.3.2123990946.1745323536;_gid=GA1.3.2125380534.1745723612;__Secure-1PSIDTS=sidts-CjIBjplskNuud68yQBpPG_HApMyQeNsw8R2iFzVswG5zPapy6S1XXijJBNOP1jIxkh49uRAA;__Secure-3PSIDTS=sidts-CjIBjplskNuud68yQBpPG_HApMyQeNsw8R2iFzVswG5zPapy6S1XXijJBNOP1jIxkh49uRAA;_ga_60Q1X42Z2X=GS1.1.1745723611.2.1.1745723667.0.0.0;_ga_S6TL92G5N1=GS1.1.1745723611.2.1.1745723667.0.0.0;SIDCC=AKEyXzUK8OFNMXo1J5kDsRmF9_pwSE2Y-9PKB71AXqGBvsjwz878hSDfwYOD-hOzSxfH_MYAocM;__Secure-1PSIDCC=AKEyXzU6jsjGEpzIFNbhrzeLjLwTnCqV6V-cNTAFp8f65X3S3aSjcTMI4bqz5539NQzFHEdong;__Secure-3PSIDCC=AKEyXzVENldu4WnrzVhVaL9PLDKeb9cdqcOkNOvkCm2h_7Kox-Hc09Cff0MgqaeK9kk28i7kFQ;"}]}},"type":"@n8n/n8n-nodes-langchain.toolHttpRequest","typeVersion":1.1,"position":[600,-660],"id":"7caad12d-8a53-464c-b033-2d3dc3c02ffd","name":"policy_output_content"},{"parameters":{"content":"function sleep(ms) {\n  return new Promise(resolve => setTimeout(resolve, ms));\n}\n\nexport default defineTool({\n  name: \"BraveSearchWithDelay\",\n  description: \"Gọi Brave Search API và delay 1.5s để tránh lỗi 429\",\n  input: z.string(),\n  async run(input) {\n    // Delay 1.5 giây\n    await sleep(1500);\n\n    // Gọi API Brave Search (thay YOUR_API_KEY nếu cần)\n    const response = await fetch(\"https://api.search.brave.com/res/v1/web/search\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Accept\": \"application/json\",\n        \"X-Subscription-Token\": \"BSAFH70LB3FByhcmumlAG4__ZG_WNGx\"\n      },\n      body: JSON.stringify({ q: input })\n    });\n\n    if (!response.ok) {\n      return `Lỗi khi gọi Brave: ${response.status} - ${response.statusText}`;\n    }\n\n    const data = await response.json();\n\n    // Trả kết quả gọn gàng (tuỳ em format lại)\n    return JSON.stringify(data.results?.[0] || data, null, 2);\n  }\n});\n","height":1080},"type":"n8n-nodes-base.stickyNote","typeVersion":1,"position":[1460,-1000],"id":"5243a3c9-44ed-454c-813c-01f94af27820","name":"Sticky Note"},{"parameters":{"name":"Brave_Search_tool","description":"Searches the internet for information. This tool returns a list of results containing the TITLE and a SHORT DESCRIPTION (snippet) of each webpage, NOT the full content of the page.","workflowId":{"__rl":true,"value":"KCWMP7FmKLBNQaaQ","mode":"list","cachedResultName":"Brave Search Delay"},"workflowInputs":{"mappingMode":"defineBelow","value":{},"matchingColumns":[],"schema":[],"attemptToConvertTypes":false,"convertFieldsToString":false}},"type":"@n8n/n8n-nodes-langchain.toolWorkflow","typeVersion":2.1,"position":[1300,-540],"id":"556fdbae-667d-46a5-b9f2-fac56183b4d7","name":"Brave_Search_tool"}],"connections":{"EmployeeSeatNode":{"ai_tool":[[{"node":"MCP Server Trigger","type":"ai_tool","index":0}]]},"Content Examples":{"ai_tool":[[{"node":"MCP Server Brave API search","type":"ai_tool","index":0}]]},"get_current_time":{"ai_tool":[[{"node":"MCP Server Brave API search","type":"ai_tool","index":0}]]},"example_fb_content":{"ai_tool":[[{"node":"MCP Server Brave API search","type":"ai_tool","index":0}]]},"policy_output_content":{"ai_tool":[[{"node":"MCP Server Brave API search","type":"ai_tool","index":0}]]},"Brave_Search_tool":{"ai_tool":[[{"node":"MCP Server Brave API search","type":"ai_tool","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":null,"meta":{"templateCredsSetupCompleted":true},"pinData":{},"versionId":"ef54514b-b72f-4f4e-9202-5a882795824c","activeVersionId":"ef54514b-b72f-4f4e-9202-5a882795824c","triggerCount":1,"shared":[{"updatedAt":"2025-04-22T00:38:42.726Z","createdAt":"2025-04-22T00:38:42.726Z","role":"workflow:owner","workflowId":"vLq8HI80sIMwS18Y","projectId":"rJfzZu0DwdsTgih8"}],"activeVersion":{"updatedAt":"2025-12-04T08:03:20.190Z","createdAt":"2025-12-04T08:03:20.190Z","versionId":"ef54514b-b72f-4f4e-9202-5a882795824c","workflowId":"vLq8HI80sIMwS18Y","nodes":[{"parameters":{"toolDescription":"This tool processes a query input from the AI agent and process and then  returns HR-related information, including current staff, new hires, seating, employees on leave, tenure details, and maternity cases.\n","url":"https://script.google.com/macros/s/AKfycbzvmWUkh15l0K_GKb2C9-y6yKmloYRsMZX6CIIAHy7HVkzZJ5HxyOyD5bKW27EAbUfgxQ/exec","sendQuery":true,"parametersQuery":{"values":[{"name":"sheet","valueProvider":"fieldValue","value":"{query}"}]},"sendHeaders":true,"parametersHeaders":{"values":[{"name":"accept","valueProvider":"fieldValue","value":"text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7"},{"name":"accept-language","valueProvider":"fieldValue","value":"en-US,en;q=0.9,vi-VN;q=0.8,vi;q=0.7,fr-FR;q=0.6,fr;q=0.5"},{"name":"dnt","valueProvider":"fieldValue","value":"1"},{"name":"priority","valueProvider":"fieldValue","value":"u=0, i"},{"name":"sec-ch-ua","valueProvider":"fieldValue","value":"\"Chromium\";v=\"136\", \"Google Chrome\";v=\"136\", \"Not.A/Brand\";v=\"99\""},{"name":"sec-ch-ua-arch","valueProvider":"fieldValue","value":"\"x86\""},{"name":"sec-ch-ua-bitness","valueProvider":"fieldValue","value":"\"64\""},{"name":"sec-ch-ua-form-factors","valueProvider":"fieldValue","value":"\"Desktop\""},{"name":"sec-ch-ua-full-version","valueProvider":"fieldValue","value":"\"136.0.7103.48\""},{"name":"sec-ch-ua-full-version-list","valueProvider":"fieldValue","value":"\"Chromium\";v=\"136.0.7103.48\", \"Google Chrome\";v=\"136.0.7103.48\", \"Not.A/Brand\";v=\"99.0.0.0\""},{"name":"sec-ch-ua-mobile","valueProvider":"fieldValue","value":"?0"},{"name":"sec-ch-ua-model","valueProvider":"fieldValue","value":"\"\""},{"name":"sec-ch-ua-platform","valueProvider":"fieldValue","value":"\"Linux\""},{"name":"sec-ch-ua-platform-version","valueProvider":"fieldValue","value":"\"6.8.0\""},{"name":"sec-ch-ua-wow64","valueProvider":"fieldValue","value":"?0"},{"name":"sec-fetch-dest","valueProvider":"fieldValue","value":"document"},{"name":"sec-fetch-mode","valueProvider":"fieldValue","value":"navigate"},{"name":"sec-fetch-site","valueProvider":"fieldValue","value":"none"},{"name":"sec-fetch-user","valueProvider":"fieldValue","value":"?1"},{"name":"upgrade-insecure-requests","valueProvider":"fieldValue","value":"1"},{"name":"user-agent","valueProvider":"fieldValue","value":"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36"},{"name":"x-browser-channel","valueProvider":"fieldValue","value":"beta"},{"name":"x-browser-copyright","valueProvider":"fieldValue","value":"Copyright 2025 Google LLC. All rights reserved."},{"name":"x-browser-validation","valueProvider":"fieldValue","value":"ctYldj7UqvsGWB62N+qJrQZxvXA="},{"name":"x-browser-year","valueProvider":"fieldValue","value":"2025"},{"name":"x-client-data","valueProvider":"fieldValue","value":"CKG1yQEIkbbJAQijtskBCKqdygEIlYzLAQiUocsBCNb0zQEI/qXOAQjEzc4BCJbOzgEIo9DOAQjH0c4BCILTzgEIstTOAQi21c4BCJrWzgEI2NbOAQjU184BCP/ZzgEI+eTOAQiM5s4BCNvmzgEI6efOAQiD6M4BCJLozgEIk+jOAQjG6M4BCJzpzgEIpenOAQjU6c4BCNrpzgEYttDOARjf0c4BGPbezgEY7d/OARiq6s4BGKzqzgEYverOAQ=="},{"name":"cookie","valueProvider":"fieldValue","value":"SID=g.a000wAiXIifWGMG11ooMEGL5f7n7JdHzpDlo_FYnQqrk7DPbfN0hv3FNXXaa29QahARjCrHvywACgYKAYcSARESFQHGX2MiB3qFE1Kw8zxwvga42JCS_RoVAUF8yKpzbYunt7xi4HoYlRXebebY0076;__Secure-1PSID=g.a000wAiXIifWGMG11ooMEGL5f7n7JdHzpDlo_FYnQqrk7DPbfN0h7QIdEHpm5g7fJ-Mz5KKjbwACgYKAScSARESFQHGX2Mi1clA1j-EtpfCVdPvfmW2eRoVAUF8yKp7mWUjyMP3gkOM6Xbipzhj0076;__Secure-3PSID=g.a000wAiXIifWGMG11ooMEGL5f7n7JdHzpDlo_FYnQqrk7DPbfN0hqTJrtrOYUL_3ILHlCVjzzAACgYKASkSARESFQHGX2MiB8A4u5Vf7ZGP34H64SyfqhoVAUF8yKqQzuVRUsS_vo9wNt4O2W8f0076;HSID=A9a7ofsCEbgRkIo-a;SSID=A_SpYWMzN5Aphkb9X;APISID=lgO-i_KUJJ39FOG6/A4DaXABZVs_SMq8v3;SAPISID=O0Kd00YCKr_FNvYx/ABwncvKpMamOJbDSJ;__Secure-1PAPISID=O0Kd00YCKr_FNvYx/ABwncvKpMamOJbDSJ;__Secure-3PAPISID=O0Kd00YCKr_FNvYx/ABwncvKpMamOJbDSJ;OSID=g.a000wAiXIoDw3dofkjAv3JIrvyJGa-Pjc-iRQVAc4wqrkrlSpp-JR432U-FMCKBPapYAIwB-BwACgYKAU8SARESFQHGX2MibGSaaWHMCYR2DV7IqLyu3BoVAUF8yKpxbCzuBbG9dyYI-Bq7Un3W0076;__Secure-OSID=g.a000wAiXIoDw3dofkjAv3JIrvyJGa-Pjc-iRQVAc4wqrkrlSpp-JmsRpbC5Gn-9R_uNYbkYeOAACgYKAdsSARESFQHGX2Mi3qS3VoZs6WDknzquFBa8ThoVAUF8yKoYneeXdEH3BrH_POy0HgG_0076;OTZ=8050326_28_28__28_;NID=523=lgrQ8cvTjCLMOJ-PMd2kynVxvK-2QJOi8wW4Fqn_an4ZwxVltJSOjFbzZONt_eF9fr7g4rHvF7nXwmq_vp0S7UhMRTKSsfsIJ9rRQoTCJVQiDAeHYpqoqGyCIYXzSv5JsyxEdtyIMbXT4hLFJwY8hA73IM77epbgKzJWnSv1n9Ydyu4jE_1CBao7iET3VKm34cIPjGWCx9528at_2gtAWORNF-gVq7vWyWf8Bk4;_ga=GA1.3.2123990946.1745323536;_gid=GA1.3.2125380534.1745723612;__Secure-1PSIDTS=sidts-CjIBjplskNuud68yQBpPG_HApMyQeNsw8R2iFzVswG5zPapy6S1XXijJBNOP1jIxkh49uRAA;__Secure-3PSIDTS=sidts-CjIBjplskNuud68yQBpPG_HApMyQeNsw8R2iFzVswG5zPapy6S1XXijJBNOP1jIxkh49uRAA;_ga_60Q1X42Z2X=GS1.1.1745723611.2.1.1745723667.0.0.0;_ga_S6TL92G5N1=GS1.1.1745723611.2.1.1745723667.0.0.0;SIDCC=AKEyXzUK8OFNMXo1J5kDsRmF9_pwSE2Y-9PKB71AXqGBvsjwz878hSDfwYOD-hOzSxfH_MYAocM;__Secure-1PSIDCC=AKEyXzU6jsjGEpzIFNbhrzeLjLwTnCqV6V-cNTAFp8f65X3S3aSjcTMI4bqz5539NQzFHEdong;__Secure-3PSIDCC=AKEyXzVENldu4WnrzVhVaL9PLDKeb9cdqcOkNOvkCm2h_7Kox-Hc09Cff0MgqaeK9kk28i7kFQ;"}]}},"type":"@n8n/n8n-nodes-langchain.toolHttpRequest","typeVersion":1.1,"position":[1800,-520],"id":"eb4d3dc2-c60d-4ef7-a29c-eb83c31b15b0","name":"EmployeeSeatNode"},{"parameters":{"path":"testHR"},"type":"@n8n/n8n-nodes-langchain.mcpTrigger","typeVersion":1,"position":[960,-880],"id":"dfb9e13f-622a-4d05-bcf1-c3e9d41040f6","name":"MCP Server Brave API search","webhookId":"361a7799-ad78-462a-a581-31d01c9eeba0"},{"parameters":{"path":"c6ebdd49-ef66-4e60-81b7-7468962d31c0"},"type":"@n8n/n8n-nodes-langchain.mcpTrigger","typeVersion":1,"position":[1640,-760],"id":"5f1a7334-16de-42a7-a461-0ebb3907298e","name":"MCP Server Trigger","webhookId":"c6ebdd49-ef66-4e60-81b7-7468962d31c0","disabled":true},{"parameters":{"descriptionType":"manual","toolDescription":"Use this tool to retrieve a short, relevant excerpt (approximately 3000 characters) from a master document of past hiring campaigns. This tool's output is automatically summarized/trimmed to provide just enough context for emulating writing style, tone, and structure without overloading the context window.","authentication":"serviceAccount","operation":"get","documentURL":"=1VDg7t1WcY0IY4HMdSmRXY0zjmWZex20-B_xgaPH825k","simple":false},"type":"n8n-nodes-base.googleDocsTool","typeVersion":2,"position":[580,-800],"id":"32789913-5b4a-4be3-b60b-b989234ac21c","name":"Content Examples","credentials":{"googleApi":{"id":"TYelWpkFtY1wGMeO","name":"google-drive-hooker@gam-project-2kc-e5d-i22.iam.gserviceaccount."}}},{"parameters":{"name":"get_current_time","description":"Fetch the current time (UTC) when user asking question relate to real date time.","language":"python","pythonCode":"from datetime import datetime\nimport pytz\n\nutc_tz = pytz.utc\nutc_time = datetime.now(utc_tz)\n\n# Format as 'YYYY-MM-DDTHH:MM:SSZ'\nformatted_time = utc_time.strftime('%Y-%m-%dT%H:%M:%SZ')\nreturn formatted_time\n"},"type":"@n8n/n8n-nodes-langchain.toolCode","typeVersion":1.1,"position":[1040,-580],"id":"5528f82f-e02f-43ac-93ad-b1c9f91bca2c","name":"get_current_time"},{"parameters":{"descriptionType":"manual","toolDescription":"Use this tool to retrieve example content from past campaigns stored in Google Docs. These examples help replicate the author’s writing style, tone of voice, and formatting.\n","authentication":"serviceAccount","operation":"get","documentURL":"1YPfqTW8nelqmGtb2E6lrfYi1B8tUsTXRCsO09tN0cdE","simple":false},"type":"n8n-nodes-base.googleDocsTool","typeVersion":2,"position":[820,-600],"id":"0ac26eb0-09bd-44a3-878d-61eb1414ce9d","name":"example_fb_content","credentials":{"googleApi":{"id":"TYelWpkFtY1wGMeO","name":"google-drive-hooker@gam-project-2kc-e5d-i22.iam.gserviceaccount."}}},{"parameters":{"toolDescription":"Get query from AI AGENT send to.\nA tool that fetches current Facebook content policy examples and rules, structured by the following columns: [\"Từ ngữ mang tính giật tít, phóng đại\", \"Từ ngữ liên quan đến việc làm ảo / không minh bạch\", \"Từ ngữ mang tính phân biệt hoặc thiếu trung lập\", \"Từ ngữ “spam” bị thuật toán bóp reach\", \"Các từ nhạy cảm khác bị AI của Facebook gắn cờ\", \"Nguyên tắc viết an toàn\"]","url":"https://script.google.com/macros/s/AKfycbyqvEFQgT0WtVlWcfU3nsqU-LsA5a7dGK89YuFm37EMdhd9QXAaAIJf2X0AJwEoBzAdWw/exec?sheet=PolicySocialContent","sendHeaders":true,"parametersHeaders":{"values":[{"name":"accept","valueProvider":"fieldValue","value":"text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7"},{"name":"accept-language","valueProvider":"fieldValue","value":"en-US,en;q=0.9,vi-VN;q=0.8,vi;q=0.7,fr-FR;q=0.6,fr;q=0.5"},{"name":"dnt","valueProvider":"fieldValue","value":"1"},{"name":"priority","valueProvider":"fieldValue","value":"u=0, i"},{"name":"sec-ch-ua","valueProvider":"fieldValue","value":"\"Chromium\";v=\"136\", \"Google Chrome\";v=\"136\", \"Not.A/Brand\";v=\"99\""},{"name":"sec-ch-ua-arch","valueProvider":"fieldValue","value":"\"x86\""},{"name":"sec-ch-ua-bitness","valueProvider":"fieldValue","value":"\"64\""},{"name":"sec-ch-ua-form-factors","valueProvider":"fieldValue","value":"\"Desktop\""},{"name":"sec-ch-ua-full-version","valueProvider":"fieldValue","value":"\"136.0.7103.48\""},{"name":"sec-ch-ua-full-version-list","valueProvider":"fieldValue","value":"\"Chromium\";v=\"136.0.7103.48\", \"Google Chrome\";v=\"136.0.7103.48\", \"Not.A/Brand\";v=\"99.0.0.0\""},{"name":"sec-ch-ua-mobile","valueProvider":"fieldValue","value":"?0"},{"name":"sec-ch-ua-model","valueProvider":"fieldValue","value":"\"\""},{"name":"sec-ch-ua-platform","valueProvider":"fieldValue","value":"\"Linux\""},{"name":"sec-ch-ua-platform-version","valueProvider":"fieldValue","value":"\"6.8.0\""},{"name":"sec-ch-ua-wow64","valueProvider":"fieldValue","value":"?0"},{"name":"sec-fetch-dest","valueProvider":"fieldValue","value":"document"},{"name":"sec-fetch-mode","valueProvider":"fieldValue","value":"navigate"},{"name":"sec-fetch-site","valueProvider":"fieldValue","value":"none"},{"name":"sec-fetch-user","valueProvider":"fieldValue","value":"?1"},{"name":"upgrade-insecure-requests","valueProvider":"fieldValue","value":"1"},{"name":"user-agent","valueProvider":"fieldValue","value":"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36"},{"name":"x-browser-channel","valueProvider":"fieldValue","value":"beta"},{"name":"x-browser-copyright","valueProvider":"fieldValue","value":"Copyright 2025 Google LLC. All rights reserved."},{"name":"x-browser-validation","valueProvider":"fieldValue","value":"ctYldj7UqvsGWB62N+qJrQZxvXA="},{"name":"x-browser-year","valueProvider":"fieldValue","value":"2025"},{"name":"x-client-data","valueProvider":"fieldValue","value":"CKG1yQEIkbbJAQijtskBCKqdygEIlYzLAQiUocsBCNb0zQEI/qXOAQjEzc4BCJbOzgEIo9DOAQjH0c4BCILTzgEIstTOAQi21c4BCJrWzgEI2NbOAQjU184BCP/ZzgEI+eTOAQiM5s4BCNvmzgEI6efOAQiD6M4BCJLozgEIk+jOAQjG6M4BCJzpzgEIpenOAQjU6c4BCNrpzgEYttDOARjf0c4BGPbezgEY7d/OARiq6s4BGKzqzgEYverOAQ=="},{"name":"cookie","valueProvider":"fieldValue","value":"SID=g.a000wAiXIifWGMG11ooMEGL5f7n7JdHzpDlo_FYnQqrk7DPbfN0hv3FNXXaa29QahARjCrHvywACgYKAYcSARESFQHGX2MiB3qFE1Kw8zxwvga42JCS_RoVAUF8yKpzbYunt7xi4HoYlRXebebY0076;__Secure-1PSID=g.a000wAiXIifWGMG11ooMEGL5f7n7JdHzpDlo_FYnQqrk7DPbfN0h7QIdEHpm5g7fJ-Mz5KKjbwACgYKAScSARESFQHGX2Mi1clA1j-EtpfCVdPvfmW2eRoVAUF8yKp7mWUjyMP3gkOM6Xbipzhj0076;__Secure-3PSID=g.a000wAiXIifWGMG11ooMEGL5f7n7JdHzpDlo_FYnQqrk7DPbfN0hqTJrtrOYUL_3ILHlCVjzzAACgYKASkSARESFQHGX2MiB8A4u5Vf7ZGP34H64SyfqhoVAUF8yKqQzuVRUsS_vo9wNt4O2W8f0076;HSID=A9a7ofsCEbgRkIo-a;SSID=A_SpYWMzN5Aphkb9X;APISID=lgO-i_KUJJ39FOG6/A4DaXABZVs_SMq8v3;SAPISID=O0Kd00YCKr_FNvYx/ABwncvKpMamOJbDSJ;__Secure-1PAPISID=O0Kd00YCKr_FNvYx/ABwncvKpMamOJbDSJ;__Secure-3PAPISID=O0Kd00YCKr_FNvYx/ABwncvKpMamOJbDSJ;OSID=g.a000wAiXIoDw3dofkjAv3JIrvyJGa-Pjc-iRQVAc4wqrkrlSpp-JR432U-FMCKBPapYAIwB-BwACgYKAU8SARESFQHGX2MibGSaaWHMCYR2DV7IqLyu3BoVAUF8yKpxbCzuBbG9dyYI-Bq7Un3W0076;__Secure-OSID=g.a000wAiXIoDw3dofkjAv3JIrvyJGa-Pjc-iRQVAc4wqrkrlSpp-JmsRpbC5Gn-9R_uNYbkYeOAACgYKAdsSARESFQHGX2Mi3qS3VoZs6WDknzquFBa8ThoVAUF8yKoYneeXdEH3BrH_POy0HgG_0076;OTZ=8050326_28_28__28_;NID=523=lgrQ8cvTjCLMOJ-PMd2kynVxvK-2QJOi8wW4Fqn_an4ZwxVltJSOjFbzZONt_eF9fr7g4rHvF7nXwmq_vp0S7UhMRTKSsfsIJ9rRQoTCJVQiDAeHYpqoqGyCIYXzSv5JsyxEdtyIMbXT4hLFJwY8hA73IM77epbgKzJWnSv1n9Ydyu4jE_1CBao7iET3VKm34cIPjGWCx9528at_2gtAWORNF-gVq7vWyWf8Bk4;_ga=GA1.3.2123990946.1745323536;_gid=GA1.3.2125380534.1745723612;__Secure-1PSIDTS=sidts-CjIBjplskNuud68yQBpPG_HApMyQeNsw8R2iFzVswG5zPapy6S1XXijJBNOP1jIxkh49uRAA;__Secure-3PSIDTS=sidts-CjIBjplskNuud68yQBpPG_HApMyQeNsw8R2iFzVswG5zPapy6S1XXijJBNOP1jIxkh49uRAA;_ga_60Q1X42Z2X=GS1.1.1745723611.2.1.1745723667.0.0.0;_ga_S6TL92G5N1=GS1.1.1745723611.2.1.1745723667.0.0.0;SIDCC=AKEyXzUK8OFNMXo1J5kDsRmF9_pwSE2Y-9PKB71AXqGBvsjwz878hSDfwYOD-hOzSxfH_MYAocM;__Secure-1PSIDCC=AKEyXzU6jsjGEpzIFNbhrzeLjLwTnCqV6V-cNTAFp8f65X3S3aSjcTMI4bqz5539NQzFHEdong;__Secure-3PSIDCC=AKEyXzVENldu4WnrzVhVaL9PLDKeb9cdqcOkNOvkCm2h_7Kox-Hc09Cff0MgqaeK9kk28i7kFQ;"}]}},"type":"@n8n/n8n-nodes-langchain.toolHttpRequest","typeVersion":1.1,"position":[600,-660],"id":"7caad12d-8a53-464c-b033-2d3dc3c02ffd","name":"policy_output_content"},{"parameters":{"content":"function sleep(ms) {\n  return new Promise(resolve => setTimeout(resolve, ms));\n}\n\nexport default defineTool({\n  name: \"BraveSearchWithDelay\",\n  description: \"Gọi Brave Search API và delay 1.5s để tránh lỗi 429\",\n  input: z.string(),\n  async run(input) {\n    // Delay 1.5 giây\n    await sleep(1500);\n\n    // Gọi API Brave Search (thay YOUR_API_KEY nếu cần)\n    const response = await fetch(\"https://api.search.brave.com/res/v1/web/search\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Accept\": \"application/json\",\n        \"X-Subscription-Token\": \"BSAFH70LB3FByhcmumlAG4__ZG_WNGx\"\n      },\n      body: JSON.stringify({ q: input })\n    });\n\n    if (!response.ok) {\n      return `Lỗi khi gọi Brave: ${response.status} - ${response.statusText}`;\n    }\n\n    const data = await response.json();\n\n    // Trả kết quả gọn gàng (tuỳ em format lại)\n    return JSON.stringify(data.results?.[0] || data, null, 2);\n  }\n});\n","height":1080},"type":"n8n-nodes-base.stickyNote","typeVersion":1,"position":[1460,-1000],"id":"5243a3c9-44ed-454c-813c-01f94af27820","name":"Sticky Note"},{"parameters":{"name":"Brave_Search_tool","description":"Searches the internet for information. This tool returns a list of results containing the TITLE and a SHORT DESCRIPTION (snippet) of each webpage, NOT the full content of the page.","workflowId":{"__rl":true,"value":"KCWMP7FmKLBNQaaQ","mode":"list","cachedResultName":"Brave Search Delay"},"workflowInputs":{"mappingMode":"defineBelow","value":{},"matchingColumns":[],"schema":[],"attemptToConvertTypes":false,"convertFieldsToString":false}},"type":"@n8n/n8n-nodes-langchain.toolWorkflow","typeVersion":2.1,"position":[1300,-540],"id":"556fdbae-667d-46a5-b9f2-fac56183b4d7","name":"Brave_Search_tool"}],"connections":{"EmployeeSeatNode":{"ai_tool":[[{"node":"MCP Server Trigger","type":"ai_tool","index":0}]]},"Content Examples":{"ai_tool":[[{"node":"MCP Server Brave API search","type":"ai_tool","index":0}]]},"get_current_time":{"ai_tool":[[{"node":"MCP Server Brave API search","type":"ai_tool","index":0}]]},"example_fb_content":{"ai_tool":[[{"node":"MCP Server Brave API search","type":"ai_tool","index":0}]]},"policy_output_content":{"ai_tool":[[{"node":"MCP Server Brave API search","type":"ai_tool","index":0}]]},"Brave_Search_tool":{"ai_tool":[[{"node":"MCP Server Brave API search","type":"ai_tool","index":0}]]}},"authors":"system migration","name":null,"description":null},"tags":[]}